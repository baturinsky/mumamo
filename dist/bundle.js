(()=>{var F;function k(l){l==null&&(l=Math.random()),0<l&&l<1&&(l=~~(l*2147483648));let r=o=>(l=l*16807%2147483647)%o;return F=o=>o==-1?l:o==null?r(2147483648)/2147483648:r(o),F}function p(l,r=F){if(!l)return null;let o=r(l.length);return l[o]}function V(l,r){l=[...l];let o=l.length;for(let a=1;a<o;a++){let m=r(o);m!=a&&([l[a],l[m]]=[l[m],l[a]])}return l}var X=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;var Z=`1101
*
So, Detective, what will be my first task as your Assistant?
Hmm hmm hmm yes! See this board? It's so called Evidence Board, also known as the MURDER MAP!
Eeek!
Do not fret. It's mostly harmless. It just helps me to visualise evidence I have and connections between the pieces of it.
Looks messy.
Indeed! And this is where you come into picture. You will help me untangle it. Move pieces around, so strings stop crossing over cards.
Hmm, I guess I can do that. Anything else?
Also, in the end, all cards should be on board, but you can temporarily move them to the sides. That's it.
OK, I think I can do it.
=160
You was a great help last time.
I have just moved some paper around.
And did it splendidly! Now I have another task for you.
Let me guess...
Yes! Another tangled board to untangle.
Will it teach me how to solve cases?
It will teach you to untangle strings!
Sigh... OK.
=27070
Aaaand... another board!
At least this time I actually have helped to add some pieces to it.
Yes! Pieces that have added a lot of new strings to untangle!
Yay, I guess.
=27090
*
So. Many. Strings.
Yes. It's all connected. 
Will it make solving it harder or easier?
We'll see. Will it make placing it easier?
We'll see. I'm not sure it's even possible.
`;{let g=function(){return Object.values(h)},R=function(u,D){let t=(D.at.x>u.at.x+10?1:0)+(D.at.y>u.at.y+10?2:0);return u.point(t)},j=function(u){return u.split(X).filter(D=>D&&D!=" ")},O=function(u){return u-~~u},eD=function(u){let D=u.split(" "),t=[],n=3;for(let e=0;e<D.length;e+=n)t.push({icon:D[e],x:D[e+1]-8,y:D[e+2]-12});let i="<div id=WorldIcon>\u{1F5FA}</div>";for(let e of t)e.cell=~~(e.x/100*s)+~~((e.y+3)/100*y)*s,T[e.cell]=e,i+=`<div class="lmi" id=${e.icon} style="left:${e.x}%;top:${e.y}%;">${e.icon}</div>`;return document.getElementById("World").innerHTML=i,t},G=function(u=0){return u?[...new Array(u)].map(D=>p(lD)).join(" "):""},FD=function(){let u=document.createElement("div");u.classList.add("slot"),u.id=_++,A[u.id]=u,z(u),Board.appendChild(u)},z=function(u){u.ondragover=D=>D.preventDefault(),u.ondrop=D=>{if(D.preventDefault(),$){$=!1;return}let t=D.dataTransfer.getData("text"),n=u.id=="Table"?null:u.id;n!=null&&($=!0),h[t].move(n,D.clientX,D.clientY),S()}},sD=function(u){return c.map(t=>t.a==u?t.b:t.b==u?t.a:null).filter(t=>t)},K=function(u){let D=h[u?.id];for(let t of g())t.slot&&A[t.slot].classList.remove("hl");if(D)for(let t of sD(D))t.slot&&A[t.slot].classList.add("hl")},S=function(){for(let D of g())D.recalculate();c.forEach(D=>D.update(R(D.a,D.b),R(D.b,D.a))),Pins.innerHTML=c.map(D=>[D.ap,D.bp]).flat().map(D=>`<div class="pin" style="left:${D.x-3}px;top:${D.y-7}px">\u{1F4CD}</div>`).join(" ");let u=c.map(D=>D.toPath());v=u.every(D=>!D[0])&&g().every(D=>D.slot!=null),StringsPath.setAttribute("d",u.filter(D=>!D[0]).map(D=>D[1]).join(" ")),StringsWrongPath.setAttribute("d",u.filter(D=>D[0]).map(D=>D[1]).join(" ")),J(),b()},aD=function(u){for(let D of u){if(D.type=="lm")continue;let t=p(u);if(t.type=="lm")continue;let n=t.slot;t.slot=D.slot,D.slot=n}return u},oD=function(u){k(u);let D=new uD().generate(u.toString());q(D)},CD=function(u){return[u.style.left,u.style.top]},J=function(){let u={seed:B,level:d,line:C,maxLevel:P,cards:g().map(D=>({id:D.id,type:D.type,slot:D.slot,at:CD(D.div)})),links:c.map(D=>[D.a.id,D.b.id])};console.log(u),localStorage.mumamo=JSON.stringify(u)},q=function(u){h={},c=[],f=[],u.line!=null&&(C=u.line),u.maxLevel!=null&&(P=u.maxLevel),u.level!=null&&(d=u.level),u.seed!=null&&(B=u.seed);for(let D of A)D.innerHTML="";k(B),console.log("R",u.seed,F(10));for(let D of u.cards)new tD(D);for(let D of u.links)new DD(D[0],D[1]);S()},M=function(u){L=u,d=m[u],C=1,B=Number(d[0]),oD(B),b()},b=function(u=!1){u&&C++,d[C]=="*"&&C++,Char.innerText=C%2?"\u{1F575}\uFE0F":"\u{1F575}\uFE0F\u200D\u2640\uFE0F",CST.innerText=v?"Well done!":d[C],Talk.style.display=C>=d.length&&!v?"none":"flex",J()},l=(u,D)=>({x:u,y:D}),r=(u,D)=>({x:u.x+D.x,y:u.y+D.y}),o=(u,D)=>({x:u.x-D.x,y:u.y-D.y}),a=u=>(u.x**2+u.y**2)**.5,m=Z.split("=").map(u=>u.trim().split(`
`)),B,d,C=1,L=0,P=0,v=!1,A=[],h={},c=[],f=[],_=0,s=12,y=6,N=s*y;class DD{constructor(D,t){this.a=h[D],this.b=h[t],c.push(this)}update(D,t){this.ap=D,this.bp=t,this.length=a(o(this.ap,this.bp)),this.cp=l(D.x/2+t.x/2,D.y/2+t.y/2+Math.min(100,Math.abs(D.x-t.x)*.3))}curve(D){let{ap:t,bp:n,cp:i}=this,e=(1-D)**2,E=D**2;return l(i.x+e*(t.x-i.x)+E*(n.x-i.x),i.y+e*(t.y-i.y)+E*(n.y-i.y))}toPath(){let{ap:D,bp:t,cp:n}=this;return[this.checkIntersections(),`M${D.x} ${D.y} Q${n.x} ${n.y} ${t.x} ${t.y}`]}checkIntersections(){let D=this.length/10;for(let t=1;t<D-1;t++){let n=this.curve(t/D);for(let i of g())if(!(i==this.a||i==this.b)&&i.contains(n))return i}return null}}class uD{constructor(){this.shuffled=V(nD,F);this.shuffledEvidence=V(Y,F)}nextCard(D){let t,n;return D!=null&&T[D]&&F(3)==0?(t=T[D].icon,n="lm"):(n=p(["ev","po","np","nt","st"]),t=(n=="ev"?this.shuffledEvidence:this.shuffled).pop()),{type:n,id:t}}simpleCards(D){let t=[];for(let n=0;n<N;n++)if(F()<D){let{type:i,id:e}=this.nextCard(n);e&&t.push({id:e,type:i,slot:n})}return t}neighborLinks(D,t){let n=[],i=[];for(let e of D)n[e.slot]=e.id;for(let e=0;e<N-s;e++)!n[e]||(e+1)%s!=0&&(F()<t&&n[e+1]&&i.push([n[e],n[e+1]]),F()<t&&n[e+s]&&i.push([n[e],n[e+s]]),F()<t&&n[e+s+1]&&i.push([n[e],n[e+s+1]]),e%s>0&&F()<t&&n[e+s-1]&&i.push([n[e],n[e+s-1]]));return i}randomLinks(D){let t=[];for(let n of D.map(i=>i.id)){let i=p(D).id;n!=i&&!t.find(e=>e[0]==n&&e[1]==i||e[1]==n&&e[0]==i)&&t.push([n,i])}return t}generate(D){k(Number(D)),console.log({seed:D});let t=Number(D.substring(1,3))/100,n=Number(D.substring(3,5))/100,i,e;switch(D[0]){case"2":i=this.simpleCards(t),e=this.neighborLinks(i,n);break;default:i=this.simpleCards(t),e=this.randomLinks(i);break}return{cards:i,links:e,seed:D}}}class tD{constructor({id:D,type:t,slot:n,at:i}){this.points=[];let e;if(t=t||"po",this.type=t,this.id=D,e=document.createElement("div"),t=="lm"){let E=iD.find(x=>x.icon==D);e.style.marginLeft=`calc(-2rem + ${O(E.x/100*s)*100}%)`,e.style.marginTop=`calc(-1.5rem + ${O(E.y/100*y)*100}%)`,e.innerHTML="O",e.style.fontSize=`${F(4)+3}rem;`,e.classList.add("lm",t)}else{e.classList.add("card",t),F(4)||e.classList.add("warp");let E=F()*6-3;e.style.transform=`translate(${F()*10-5}px, ${F()*10-5}px) rotate(${E}deg)`,e.style.width=t=="nt"?`${F()*.5+1}em`:"",e.draggable=!0,e.ondragstart=w=>w.dataTransfer.setData("text",D);let x={po:3,np:150,nt:3}[t]||0,I={np:1,st:3}[t]||0,rD={np:F(2)+1}[t],Q=t=="np"&&p(["left","right","center"]),H=t!="ev"&&t!="do",U=`background:hsla(${F(360)}, 50%, 10%, ${H?100:0}%); 
        float: ${Q}; ${Q=="center"?"width:100%;":""};`;if(t=="ev"){let w=Y.indexOf(D);U+=`transform: rotateZ(${w<4?-45:w<7?45:0}deg);`}let ED=H&&F(8)==0;e.innerHTML=`
        <div class="note" style="columns: ${rD};">
          ${I>0?`<h1>${G(F(I)+I)}</h1>`:""}
          <div class="${t=="nt"&&["invert","green","gray"][F(10)]} photo" style="${U}">
            ${D}
          </div>
          <span style="transform:rotate(${-E+F()*3-1.5}deg)">${G(F(~~(x/3))+x)}</span>
        </div>
        <div class="overlay">${ED?"\u2718\u2718!?"[F(4)]:(t=="do","")}</div>`,H&&(e.style.background=`hsl(${F(360)}, ${t=="st"?100:20}%, 90%)`)}this.div=e,e.id=D,e.onmouseenter=()=>K(e),e.onmouseleave=()=>K(null),e.setAttribute("type",t),h[D]=this,this.addToSlot(n),this.setAt(i),this.recalculate()}recalculate(){let D=this.div.getBoundingClientRect();this.at=l(D.left,D.top),this.r=D;for(let t=0;t<4;t++){let n=10,i;this.type=="lm"?i=l(D.width/2,D.height/2):i=l(t%2==1?D.width-n:n,t<2?n:D.height-(this.type=="nt"?0:n)),this.type=="ev"&&(i[4]=l(D.width/2,20)),this.points[t]=i}}setAt(D){D&&(this.div.style.left=D[0],this.div.style.top=D[1])}move(D,t,n){if(this.type!="lm"){if(D!=null&&f[D]!=null){let i=f[D];if(i.type=="lm")return;i.addToSlot(this.slot),i.div.style.left=this.div.style.left,i.div.style.top=this.div.style.top}this.addToSlot(D),this.div.style.left=`${t-this.div.getBoundingClientRect().width/2}px`,this.div.style.top=`${n-this.div.getBoundingClientRect().height/2}px`}}addToSlot(D){(D==null?Table:A[D]).appendChild(this.div),this.slot!=null&&f[this.slot]==this&&delete f[this.slot],this.slot=D,D!=null&&(f[D]=this)}point(D){return r(this.points[D],this.at)}contains(D){return this.at.x<=D.x&&this.at.y<=D.y&&this.at.x+this.r.width>=D.x&&this.at.y+this.r.height>=D.y}}let W=u=>{window.requestAnimationFrame(W)};W(0),window.onmousemove=u=>{},window.onwheel=u=>{};for(let u=0;u<s*y;u++)FD();let nD=j("\u{1F935}\u{1F470}\u{1F931}\u{1F468}\u200D\u2695\uFE0F\u{1F469}\u200D\u2695\uFE0F\u{1F468}\u200D\u{1F393}\u{1F469}\u200D\u{1F393}\u{1F468}\u200D\u2696\uFE0F\u{1F469}\u200D\u2696\uFE0F\u{1F468}\u200D\u{1F33E}\u{1F469}\u200D\u{1F33E}\u{1F468}\u200D\u{1F373}\u{1F469}\u200D\u{1F373}\u{1F468}\u200D\u{1F527}\u{1F469}\u200D\u{1F527}\u{1F468}\u200D\u{1F3ED}\u{1F469}\u200D\u{1F3ED}\u{1F468}\u200D\u{1F4BC}\u{1F469}\u200D\u{1F4BC}\u{1F468}\u200D\u{1F52C}\u{1F469}\u200D\u{1F52C}\u{1F468}\u200D\u{1F4BB}\u{1F469}\u200D\u{1F4BB}\u{1F468}\u200D\u{1F3A4}\u{1F469}\u200D\u{1F3A4}\u{1F468}\u200D\u{1F3A8}\u{1F469}\u200D\u{1F3A8}\u{1F468}\u200D\u2708\uFE0F\u{1F469}\u200D\u2708\uFE0F\u{1F468}\u200D\u{1F680}\u{1F469}\u200D\u{1F680}\u{1F468}\u200D\u{1F692}\u{1F469}\u200D\u{1F692}\u{1F46E}\u200D\u2642\uFE0F\u{1F46E}\u200D\u2640\uFE0F\u{1F575}\uFE0F\u200D\u2642\uFE0F\u{1F575}\uFE0F\u200D\u2640\uFE0F\u{1F482}\u200D\u2642\uFE0F\u{1F482}\u200D\u2640\uFE0F\u{1F477}\u200D\u2642\uFE0F\u{1F477}\u200D\u2640\uFE0F\u{1F9D9}\u200D\u2640\uFE0F\u{1F9D9}\u200D\u2642\uFE0F\u{1F9DA}\u200D\u2640\uFE0F\u{1F9DA}\u200D\u2642\uFE0F\u{1F9DB}\u200D\u2640\uFE0F\u{1F9DB}\u200D\u2642\uFE0F\u{1F9DC}\u200D\u2640\uFE0F\u{1F9DC}\u200D\u2642\uFE0F\u{1F9DD}\u200D\u2640\uFE0F\u{1F9DD}\u200D\u2642\uFE0F\u{1F9DE}\u200D\u2640\uFE0F\u{1F9DE}\u200D\u2642\uFE0F\u{1F9DF}\u200D\u2640\uFE0F\u{1F9DF}\u200D\u2642\uFE0F"),Y=j("\u{1F52A}\u{1F5E1}\uFE0F\u{1F511}\u{1F5DD}\uFE0F\u{1F527}\u270F\uFE0F\u{1F58B}\uFE0F\u{1F380}\u{1F4FF}\u{1F4F1}\u{1F4BE}\u{1F4C0}\u{1F4FC}\u{1F4D3}\u{1F4D2}\u{1F4B5}\u2702\uFE0F\u2699\uFE0F\u{1FA92}\u{1F4F0}\u2709\uFE0F\u{1F5C2}\uFE0F\u{1F9E7}"),T={},iD=eD("\u{1F5FD} 38 52 \u{1F30B} 79 74 \u{1F3EF} 86 54 \u{1F54B} 63 58 \u{1F6D5} 71 65 \u{1F301} 61 40 \u{1F54C} 68 51 \u26EA 43 85 \u{1F54D} 80 52 \u{1F6A2} 96 70 \u{1F309} 27 52 \u26F2 54 66 \u{1F98F} 60 85 \u{1F998} 87 86 \u{1F9CA} 45 23"),lD=Object.keys(window).filter(u=>u.length<10),$=!1;window.onresize=S,window.onkeydown=u=>{console.log(u),u.code.substring(0,5)=="Digit"&&M(Number(u.key)-1)},Talk.onclick=()=>{v&&L<m.length-1?M(L+1):b(!0)},z(Table),localStorage.mumamo?(q(JSON.parse(localStorage.mumamo)),b()):M(0)}})();
//# sourceMappingURL=bundle.js.map
